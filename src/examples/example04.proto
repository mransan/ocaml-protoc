// This example demonstrate the ability 
// to define recursive message and compile them to 
// OCaml.
//
// NOTE: this is kind of dirty as it uses `required`
// and relies on the order of constructors to get a default value

message IntList {
    message Nil  {  }
    message Cons {
        required int32   value = 1 [(ocaml_type) = int_t] ; 
        required IntList next  = 2;
    }
    oneof t {
        Cons cons = 1;
        Nil  nil  = 2; 
    }
}
